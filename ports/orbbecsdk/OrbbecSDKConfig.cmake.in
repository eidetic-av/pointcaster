get_filename_component(_orbbecsdk_root "${CMAKE_CURRENT_LIST_DIR}" PATH)
get_filename_component(_orbbecsdk_root "${_orbbecsdk_root}" PATH)

set(_orbbecsdk_lib "${_orbbecsdk_root}/lib/libOrbbecSDK.so")

if (EXISTS "${_orbbecsdk_lib}")

    add_library(Orbbec::OrbbecSDK SHARED IMPORTED)

    set_target_properties(Orbbec::OrbbecSDK PROPERTIES
        IMPORTED_LOCATION_RELEASE      "${_orbbecsdk_root}/lib/libOrbbecSDK.so"
        IMPORTED_LOCATION_DEBUG        "${_orbbecsdk_root}/debug/lib/libOrbbecSDK.so"
        IMPORTED_CONFIGURATIONS        "Debug;Release"
        INTERFACE_INCLUDE_DIRECTORIES  "${_orbbecsdk_root}/include"
    )

    set(OrbbecSDK_FOUND TRUE)

else()

    # Library not present / installation incomplete
    set(OrbbecSDK_FOUND FALSE)

endif()

unset(_orbbecsdk_lib)
unset(_orbbecsdk_root)
